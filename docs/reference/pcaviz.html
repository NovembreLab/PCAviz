<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create and summarize pcaviz objects — pcaviz • PCAviz</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<meta property="og:title" content="Create and summarize pcaviz objects — pcaviz" />

<meta property="og:description" content="Creates a "pcaviz" data structure from PCA results (e.g.,
  prcomp output, and accompanying data. The data
  structure is specifically designed to facilitate plotting PCA results
  and relationships between estimated principal components and related
  data (e.g., geographic co-ordinates)." />
<meta name="twitter:card" content="summary" />
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">PCAviz</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://github.com/NovembreLab/PCAviz">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create and summarize pcaviz objects</h1>
    </div>

    
    <p>Creates a "pcaviz" data structure from PCA results (e.g.,
  <code><a href='http://www.rdocumentation.org/packages/stats/topics/prcomp'>prcomp</a></code> output, and accompanying data. The data
  structure is specifically designed to facilitate plotting PCA results
  and relationships between estimated principal components and related
  data (e.g., geographic co-ordinates).</p>
    

    <pre class="usage">pcaviz(out.pca, x = NULL, sdev = NULL, var = NULL, rotation = NULL,
       dat = NULL, pc.cols)

# S3 method for pcaviz
summary(object, &#8230;)

# S3 method for summary.pcaviz
print(x, n = 4, &#8230;)

# S3 method for pcaviz
print(x, n = 4, &#8230;)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>out.pca</th>
      <td><p>Output of <code>prcomp</code> or <code>princomp</code> (<span class="pkg">stats</span>
    package), or output of <code>rpca</code> (<span class="pkg">rsvd</span> package), providing
    results of principal components analysis. Alternatively, PCA results
    (or results of applying another dimensionality reduction technique)
    may be provided via inputs <code>x</code>, <code>rotation</code> and <code>dat</code>
    (see below).</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>For function "pcaviz", this is a matrix or data frame
    containing the data samples projected onto the principal components
    (also sometimes referred to as "rotated data" or "scores"). This is
    equivalent to the <code>x</code> component returned by functions
    <code><a href='http://www.rdocumentation.org/packages/stats/topics/prcomp'>prcomp</a></code> and <code><a href='http://www.rdocumentation.org/packages/rsvd/topics/rpca'>rpca</a></code>, and the
    <code>scores</code> component returned by function
    <code><a href='http://www.rdocumentation.org/packages/stats/topics/princomp'>princomp</a></code>. For function <code>print.pcaviz</code>,
    this should be an object of class "pcaviz"; for function
    <code>print.summary.pcaviz</code>, this should be the output of function
    <code>summary.pcaviz</code>.</p></td>
    </tr>
    <tr>
      <th>sdev</th>
      <td><p>Optional vector containing the standard deviations of the
    PCs or, equivalently, the square root of the eigenvalues. This is
    the same as the <code>sdev</code> component returned by functions
    <code><a href='http://www.rdocumentation.org/packages/stats/topics/prcomp'>prcomp</a></code>, <code><a href='http://www.rdocumentation.org/packages/stats/topics/princomp'>princomp</a></code> and
    <code><a href='http://www.rdocumentation.org/packages/rsvd/topics/rpca'>rpca</a></code>.</p></td>
    </tr>
    <tr>
      <th>var</th>
      <td><p>Optional value specifying the total variance. This should
    be equal to the sum of the variances of the individual PCs. It can
    be computed as <code>sum(apply(X,2,var))</code>, in which <code>X</code> is the
    target matrix supplied as input to the PCA. This is the same as
    <code>sum(sdev^2)</code> when <code>sdev</code> is returned by
    <code><a href='http://www.rdocumentation.org/packages/stats/topics/prcomp'>prcomp</a></code> or <code><a href='http://www.rdocumentation.org/packages/stats/topics/princomp'>princomp</a></code>, and is
    the same as the <code>var</code> component returned by
    <code><a href='http://www.rdocumentation.org/packages/rsvd/topics/rpca'>rpca</a></code>.</p></td>
    </tr>
    <tr>
      <th>rotation</th>
      <td><p>Optional matrix or data frame containing the
    eigenvectors (alternatively called "variable loadings" or
    "rotation matrix"). This is can be chosen as the <code>rotation</code>
    component returned by functions <code><a href='http://www.rdocumentation.org/packages/stats/topics/prcomp'>prcomp</a></code> and
    <code><a href='http://www.rdocumentation.org/packages/rsvd/topics/rpca'>rpca</a></code>, or the <code>loadings</code> component returned
    by function <code><a href='http://www.rdocumentation.org/packages/stats/topics/princomp'>princomp</a></code>. Additional data columns
    beyond the eigenvectors may also be supplied so long as all PC
    loadings are included.</p></td>
    </tr>
    <tr>
      <th>dat</th>
      <td><p>Optional data frame supplying additional information about
    the data samples. It should be a data frame with one row for each
    data sample, and should have as many rows as the rotated data.
    Optionally, this data frame may also supply the rotated data, as
    indicated by input <code>pc.cols</code>. This is useful if the PCA results
    and accompanying data are already combined into one table.</p></td>
    </tr>
    <tr>
      <th>pc.cols</th>
      <td><p>Indicates which columns of input <code>dat</code> contain the
    principal components (rotated data). The names of the columns (not
    numeric indices) must be supplied. By default, when <code>pc.cols</code>
    is not specified and the rotated data are not already supplied by
    <code>x</code> or <code>out.pca</code>, the columns of <code>dat</code> with prefix
    "PC" are interpreted as principal components.</p></td>
    </tr>
    <tr>
      <th>object</th>
      <td><p>An object of class <code>"pcaviz"</code>.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Maximum number of variables of each category to display in
    the summary.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Additional print and summary arguments. These additional
    arguments are not used here.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    
  
<p><code>pcaviz</code> returns a list with class <code>"pcaviz"</code> containing the
  following components:</p>
<p></p>
<dt>data</dt><dd><p>Data frame containing the rotated variables as well as
    accompanying data.</p></dd>

  <dt>data.coltypes</dt><dd><p>Names of the columns in <code>data</code> that contain
    the rotated variables.</p></dd>

  <dt>sdev</dt><dd><p>If not <code>NULL</code>, this is a vector containing the
    standard deviations of the PCs; equivalently, the square roots of
    the eigenvalues.</p></dd>
  
  <dt>rotation</dt><dd><p>If not <code>NULL</code>, this is a data frame containing
    the eigenvectors ("loadings") and, optionally, other data columns.</p></dd>
  
  <dt>basis</dt><dd><p>A matrix with one column per PC that is used to keep
    track of the principal axes after transformation.</p></dd>

  <dt>transformed.pcs</dt><dd><p>A logical value indicating whether at least one
    transformation (e.g., a rotation) has been applied to the PCs.
    Initially set to FALSE.</p></dd>

  It is advised to avoid directly manipulating these components as much
  as possible. Instead, it is preferrable to use package functions
  designed for manipulating pcaviz objects, e.g.,
  <a href='subset.pcaviz.html'>subset</a>, <a href='pcaviz-transformations.html'>pcaviz_rotate</a>,
  <a href='pcaviz-plots.html'>pcaviz_abbreviate_var</a>.

    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code>summary.pcaviz</code>, <code><a href='pcaviz-plots.html'>pcaviz-plots</a></code>,
  <code><a href='http://www.rdocumentation.org/packages/stats/topics/prcomp'>prcomp</a></code>, <code><a href='http://www.rdocumentation.org/packages/stats/topics/princomp'>princomp</a></code>,
  <code><a href='http://www.rdocumentation.org/packages/rsvd/topics/rpca'>rpca</a></code>, <a href='pcaviz-transformations.html'>pcaviz-transformations</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Create pcaviz object from prcomp output.</span>
<span class='fu'>data</span>(<span class='no'>iris</span>)
<span class='no'>a1</span> <span class='kw'>&lt;-</span> <span class='fu'>pcaviz</span>(<span class='fu'>prcomp</span>(<span class='no'>iris</span>[<span class='fl'>1</span>:<span class='fl'>4</span>]),<span class='kw'>dat</span> <span class='kw'>=</span> <span class='no'>iris</span>)

<span class='co'># Create pcaviz object from princomp output.</span>
<span class='no'>a2</span> <span class='kw'>&lt;-</span> <span class='fu'>pcaviz</span>(<span class='fu'>princomp</span>(<span class='no'>iris</span>[<span class='fl'>1</span>:<span class='fl'>4</span>]),<span class='kw'>dat</span> <span class='kw'>=</span> <span class='no'>iris</span>)

<span class='co'># An alternative way to create pcaviz object from prcomp output.</span>
<span class='no'>out</span> <span class='kw'>&lt;-</span> <span class='fu'>prcomp</span>(<span class='no'>iris</span>[<span class='fl'>1</span>:<span class='fl'>4</span>])
<span class='no'>a3</span>  <span class='kw'>&lt;-</span> <span class='fu'>pcaviz</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>out</span>$<span class='no'>x</span>,<span class='kw'>sdev</span> <span class='kw'>=</span> <span class='no'>out</span>$<span class='no'>sdev</span>,<span class='kw'>var</span> <span class='kw'>=</span> <span class='fu'>sum</span>(<span class='no'>out</span>$<span class='no'>sdev</span>^<span class='fl'>2</span>),
              <span class='kw'>rotation</span> <span class='kw'>=</span> <span class='no'>out</span>$<span class='no'>rotation</span>,<span class='kw'>dat</span> <span class='kw'>=</span> <span class='no'>iris</span>)</div><span class='co'># NOT RUN {</span>
<span class='co'># Print summaries of the pcaviz objects.</span>
<span class='fu'>summary</span>(<span class='no'>a1</span>)
<span class='fu'>summary</span>(<span class='no'>a2</span>)
<span class='fu'>summary</span>(<span class='no'>a3</span>)

<span class='co'># These vignettes demonstrate various ways pcaviz objects</span>
<span class='co'># can be created.</span>
<span class='fu'>vignette</span>(<span class='st'>"iris"</span>)
<span class='fu'>vignette</span>(<span class='st'>"popres"</span>)
<span class='fu'>vignette</span>(<span class='st'>"regmap"</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by John Novembre, Richard Williams, Hossein Pourreza, Yuexi Wang, Peter Carbonetto.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
